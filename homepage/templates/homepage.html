{% extends 'base.html' %}
{% load static %}

{% block meta %}
<title>Sehat Terus | Homepage</title>
{% endblock meta %}

{% block content %}


<main>
    <span class="p-0">
        <hr class="solid m-0">
    </span>
    <div class="container-fluid mb-5">
        <!-- BANNER -->
        <div class="section-banner">
            <div class="d-flex flex-row justify-content-center">
                <!-- Carousel -->
                <div id="demo" class="carousel slide" data-bs-ride="carousel">

                    <!-- Indicators/dots -->
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#demo" data-bs-slide-to="0" class="active"></button>
                        <button type="button" data-bs-target="#demo" data-bs-slide-to="1"></button>
                        <button type="button" data-bs-target="#demo" data-bs-slide-to="2"></button>
                        <button type="button" data-bs-target="#demo" data-bs-slide-to="3"></button>
                        <button type="button" data-bs-target="#demo" data-bs-slide-to="4"></button>
                    
                    </div>
                    
                    <!-- The slideshow/carousel -->
                    <div class="card">
                        <div class="carousel-inner">
                            <div class="carousel-item active ">
                                <img src="../../static/Biru Hitam Terbaru Fitness Dan Gym Banner Landscape (3).png" alt="Banner 1" class="d-block">
                            </div>
                            <div class="carousel-item">
                                <img src="../../static/Biru Hitam Terbaru Fitness Dan Gym Banner Landscape (2).png" alt="Banner 2" class="d-block">
                            </div>
                            <div class="carousel-item">
                                <img src="../../static/Biru Hitam Terbaru Fitness Dan Gym Banner Landscape (1).png" alt="Banner 3" class="d-block">
                            </div>
                            <div class="carousel-item">
                                <img src="../../static/Biru Hitam Terbaru Fitness Dan Gym Banner Landscape (4).png" alt="Banner 4" class="d-block">
                            </div>
                            <div class="carousel-item">
                                <img src="../../static/Biru Hitam Terbaru Fitness Dan Gym Banner Landscape.png" alt="Banner 5" class="d-block">
                            </div>
                        </div>
                    </div>
                    
                    <!-- Left and right controls/icons -->
                    <button class="carousel-control-prev" type="button" data-bs-target="#demo" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon"></span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#demo" data-bs-slide="next">
                        <span class="carousel-control-next-icon"></span>
                    </button>
                </div>
            </div>
        </div>
        <div class="section-5m">
            <div class="container pt-5">
                <div class="row">
                    
                        <div style="position: relative;font-size: 45px;">
                            <h1>TERAPKAN PROTOKOL KESEHATAN</h1>
                        </div>
                        <div class="col-md-6 text-center">
                            <div class="d-none d-lg-block">
                                <img class="img-fluid mb-3" src="https://cdn.discordapp.com/attachments/814499566245249047/1035484452857593867/img-waspada.png" style="width:59%;height:auto;">
                            </div>
                        </div>
                        <div class="col-md-6" style="align-self: center;">
                            <h3>Waspada Penularan COVID-19</h3>
                            <p>SARS-CoV-2 penyebab COVID-19 menyebar melalui kontak dengan droplet saluran napas penderita yang dihasilkan pada saat bicara, batuk, atau bersin. Droplet dapat bertahan di udara dalam beberapa waktu tertentu dan sampai jarak tertentu.</p>
                            <div class="d-lg-none">
                                <img class="img-fluid mb-3" src="https://corona.jakarta.go.id/img/logo/img-waspada.svg" alt="" style="width:100%;height:auto;">
                            </div>
                        </div>
                </div>
            </div>
            <div class="d-flex flex-row justify-content-lg-center" style="background-color: white;">
                <div class="p-lg-4">
                    <div class="d-flex flex-row justify-content-between m-3">
                        <div class="card-5m card p-2 m-3" >
                            <img class="card-img-top m-auto" src="https://daftarvaksin.depok.go.id/assets/images/no-crowd.png" alt="Card image cap"
                            style="width: 120px; height: 120px">
                            <div class="card-body">
                                <p class="card-text">Menjauhi Kerumuman</p>
                            </div>
                        </div>
                        <div class="card-5m card p-2 m-3"  >
                            <img class="card-img-top m-auto" src="https://www.saronda.desa.id/wp-content/uploads/jaga-jarak.png" alt="Card image cap"
                            style="width: 120px; height: 120px;">
                            <div class="card-body">
                                <p class="card-text">Menjaga Jarak</p>
                            </div>
                        </div>
                        <div class="card-5m card p-2 m-3" >
                            <img class="card-img-top m-auto" src="https://media.istockphoto.com/vectors/washing-hands-with-soap-to-prevent-virus-icon-vector-id1284014534?k=20&m=1284014534&s=170667a&w=0&h=EIeCxGfhnUhC_2qbTvA41348axPmiGRICaiAOu2soIc=" alt="ikon mencuci tangan"
                                style="width: 120px; height: 120px;">
                            <div class="card-body">
                                <p class="card-text">Mencuci Tangan</p>
                            </div>
                        </div>
                        <div class="card-5m card p-2 m-3"  >
                            <img class="card-img-top m-auto" src="https://smartgabek.pangkalpinangkota.go.id/wp-content/uploads/2019/11/masker.svg" alt="Card image cap"
                            style="width: 120px; height: 120px;">
                            <div class="card-body">
                                <p class="card-text">Memakai Masker</p>
                            </div>
                        </div>
                        <div class="card-5m card p-2 m-3"  >
                            <img class="card-img-top m-auto" src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Icons8_flat_home.svg/2048px-Icons8_flat_home.svg.png" alt="Card image cap"
                            style="width: 120px; height: 120px;">
                            <div class="card-body">
                                <p class="card-text">Membatasi Mobilitas</p>
                            </div>
                        </div>
                    </div>
                        
                </div>
            </div>
        </div>
     
        <div class="section-data-covid">
            <div class="d-flex flex-row justify-content-center text-center m-xl-5" style="background-color: white;">
                <div class="p-lg-4">
                    <div class=" title-5m text-center">
                        <h1>DATA KASUS</h1><h3>COVID-19</h3>
                    </div>
                    <div class="p-2">
                        <hr class="solid my-3">
                    </div>
                    <form class="p-2" method="POST" name="provinsi" id="entry_provinsi">
                        {% csrf_token %}
                        <input class="form-control mb-3" type="text" placeholder="Masukkan nama provinsi dalam kapital" name="nama_provinsi">
                        <span><button type="submit" class="btn btn-primary btnClick mb-3">Submit</button></span>
                        <p id="error_messages"></p>
                    </form>
                
                   
                    <div class="d-flex justify-content-between m-3">
                        <div class="card-datacovid card p-2 m-3"  style="width: 550px;">
                            <div class="card-body text-center">
                                <h5 class="card-text" id="provinsi">Provinsi</h5>
                                <div class="row">
                                    <div class="col">
                                        
                                        <span class="card-text">Jumlah Positif</span>
                                        <h6 class="card-text val" id="data-positif">0</h6>
                                    </div>
                                    <div class="col">
                                        <span class="card-text">Jumlah Sembuh</span>
                                        <h6 class="card-text val" id="data-sembuh">0</h6>
                                    </div>
                                    <div class="col">
                                        <span class="card-text">Jumlah Meninggal</span>
                                        <h6 class="card-text val" id="data-meninggal">0</h6>
                                        
                                    </div>
                                </div>
                            
                            </div>
                        </div>
                        <div class="card-datacovid card p-2 m-3" style="width: 550px;" >
                            <div class="card-body text-center">
                                <h5 class="card-text">Indonesia</h5>
                                <div class="row">
                                    <div class="col">
                                        <p class="card-text">Jumlah Positif</p>
                                    </div>
                                    <div class="col">
                                        <p class="card-text">Jumlah Negatif</p>
                                    </div>
                                </div>
                                
            
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
     
        <div class="section-berita">
            <div class="container" style="background-color: white;">
                <div class="row justify-content-start">
                    <div class="col-sm-3 d-flex flex-column  align-self-center">
                        <div class=" title-5m text-center">
                            <h3>Berita Terkini</h3>
                        </div>
                        <div class="p-2">
                            <hr class="solid my-3">
                        </div>
                        <div class="p-3">
                            <p>Dalam Pamdemi ini, Ingatlah setiap kita memiliki peran penting. Bersama-sama kita bisa melindungi diri dan melindungi sesama.</p>
                        </div>
                    </div>
                    
                    <div class="col-sm-9">
                        <div class="d-flex justify-content-between">
                            <div class="card card-berita m-3" style="height: 400px; width: 300px;" >
                                <img class="card-img-top" style="height: 150px; width: 100%" src="https://plus.unsplash.com/premium_photo-1661685749365-064fad43c907?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80" alt="Card image cap">
                                <div class="card-body p-4 z-index-1" style="display: flex; flex-direction: column">
                                    <time class="text-muted" pubdate="" datetime="2022-10-07">07 Okt 2022</time>
                                    <div class="card-body p-0 mb-3" style="flex-grow: 1">
                                        <h5>Aplikasi PeduliLindungi bisa untuk 6 Sertifikat Vaksin</h5>
                                    </div>
                                    <div class="row">
                                        <div class="col p-3">
                                            <a href="https://covid19.go.id/id/artikel/2022/10/07/wna-bisa-vaksinasi-covid-19-di-indonesia" class="btn btn-block" style="font-size:14px ;">selengkapnya</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card card-berita m-3" style="height: 400px; width: 300px;" >
                                <img class="card-img-top" style="height: 150px; width: 100%" src="https://plus.unsplash.com/premium_photo-1661685749365-064fad43c907?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80" alt="Card image cap">
                                <div class="card-body p-4 z-index-1" style="display: flex; flex-direction: column">
                                    <time class="text-muted" pubdate="" datetime="2022-10-07">07 Okt 2022</time>
                                    <div class="card-body p-0 mb-3" style="flex-grow: 1">
                                        <h5>Presiden Resmikan Pabrik Vaksin COVID-19 di Indonesia</h5>
                                    </div>
                                    <div class="row">
                                        <div class="col p-3">
                                            <a href="https://covid19.go.id/id/artikel/2022/10/07/wna-bisa-vaksinasi-covid-19-di-indonesia" class="btn btn-block" style="font-size:14px ;">selengkapnya</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="card card-berita m-3" style="height: 400px; width: 300px;" >
                                <img class="card-img-top" style="height: 150px; width: 100%" src="https://plus.unsplash.com/premium_photo-1661685749365-064fad43c907?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=2070&q=80" alt="Card image cap">
                                <div class="card-body p-4 z-index-1" style="display: flex; flex-direction: column">
                                    <time class="text-muted" pubdate="" datetime="2022-10-07">07 Okt 2022</time>
                                    <div class="card-body p-0 mb-3" style="flex-grow: 1">
                                        <h5>WNA Bisa Vaksinasi COVID-19 di Indonesia</h5>
                                    </div>
                                    <div class="row">
                                        <div class="col p-3">
                                            <a href="https://covid19.go.id/id/artikel/2022/10/07/wna-bisa-vaksinasi-covid-19-di-indonesia" class="btn btn-block" style="font-size:14px ;">selengkapnya</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<style>
    h3 {
        color: #17a2b8;
    }

    .btn, .btn-primary{
        border-radius: 40px;
        --bs-btn-bg: white;
        --bs-btn-border-color: black;
        --bs-btn-color: rgba(0, 0, 0, 0.55);
        --bs-btn-hover-color: white;
        --bs-btn-hover-bg: #17a2b8;
    }
    .carousel img {
        top: 0;
        left: 0;
        height: 400px;
        max-height: 700px;
        width: 1430px;
        
    }

    .section-5m .row{
        margin-left: 48px;
        margin-right: 48px;
    }
    .card-5m{
        --bs-border-color-translucent: white;
    }
    .card-5m:hover {
        transform: scale(1.3);
        box-shadow: 0 10px 20px rgba(0,0,0,.12), 0 4px 8px rgba(0,0,0,.06);
    }

    .card-datacovid{
        box-shadow: 0 10px 20px rgba(0,0,0,.12), 0 4px 8px rgba(0,0,0,.06);
        border-radius: 20px;
    }

    .card-berita:hover{
        background-color: #EFFBF9;
        transform: scale(1.08);
    }

    #data-positif, #data-sembuh, #data-meninggal{
        color: #17a2b8;
        font-size: 23px;
    }
</style>
<script>

    
function getDataFromForm($form) {
    var unindexed_items = $form.serializeArray();
    var result = {};
    $.map(unindexed_items, function (n, i) {
        result[n['name']] = n['value'];
    });
    return result;
}


$("#entry_provinsi").submit(function (e) {
    e.preventDefault();
    var $form = $(this);
    var serializedData = getDataFromForm($form);
    var provinsi = serializedData.nama_provinsi

        
    $.get(
        './api-indonesia', function(data){
            var data_filter = data.filter((data) => data.key == provinsi);
            if (data_filter.length === 0){
                $("#error_messages").text("Input Salah! Silahkan masukkan nama provinsi dalam kapital")
                
            } else {
                $("#error_messages").text("")
                $("#provinsi").text(provinsi)
                $("#data-positif").text(data_filter[0].jumlah_kasus - data_filter[0].jumlah_sembuh)
                $("#data-meninggal").text(data_filter[0].jumlah_meninggal)
                $("#data-sembuh").text(data_filter[0].jumlah_sembuh)
            }

        });
        
            

    

});
</script>

{% endblock content %}

